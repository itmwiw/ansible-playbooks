ansible_ssh_private_key_file: ~/.ssh/mykey
ansible_user: root

dhcpd:
  - if: lan
    settings:
    - key: enable
      value: 0

filter:
  - descr: 'allow carp on WAN interface'
    settings:
    - key: type
      value: pass
    - key: interface
      value: wan
    - key: ipprotocol
      value: inet
    - key: statetype
      value: 'keep state'
    - key: direction
      value: in
    - key: quick
      value: 1
    - key: protocol
      value: carp
    - key: source/any
      value: 1
    - key: destination/any
      value: 1
  - descr: 'allow carp on LAN interface'
    settings:
    - key: type
      value: pass
    - key: interface
      value: lan
    - key: ipprotocol
      value: inet
    - key: statetype
      value: 'keep state'
    - key: direction
      value: in
    - key: quick
      value: 1
    - key: protocol
      value: carp
    - key: source/any
      value: 1
    - key: destination/any
      value: 1
  - descr: 'allow all on PFSYNC interface'
    settings:
    - key: type
      value: pass
    - key: interface
      value: opt1
    - key: ipprotocol
      value: inet
    - key: statetype
      value: 'keep state'
    - key: direction
      value: in
    - key: quick
      value: 1
    - key: source/any
      value: 1
    - key: destination/any
      value: 1

nat:
  outbound:
    mode: advanced
    rules:
    - descr: 'Nat to virtual Wan IP'
      settings:
      - key: source/network
        value: lan
      - key: interface
        value: wan
      - key: target
        value: 10.0.102.253


hasync:
  - pfsyncenabled: "on"
  - synchronizealiases: "on"
  - synchronizedhcpd: "on"
  - synchronizenat: "on"
  - synchronizerules: "on"
  - synchronizevirtualip: "on"
  - synchronizewidgets: "on"
  - pfsyncinterface: "opt1"
  - synchronizetoip: "10.0.0.2"
  - username: "root"
  - password: "opnsense"
  - pfsyncpeerip: "10.0.0.2"
